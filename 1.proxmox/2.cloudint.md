# ‚òÅÔ∏è Creating a Cloud-Init Image (Ubuntu 25.10 - Plucky Puffin)

This guide documents the exact steps to prepare an **Ubuntu 25.10 (Plucky Puffin)** cloud-init image for use in **Proxmox VE 9**.  
All commands are executed directly on the Proxmox node.

---

## üß© Steps

### 1Ô∏è‚É£ Download the Image
```bash
wget wget https://cloud-images.ubuntu.com/noble/current/noble-server-cloudimg-amd64.img

```

### 2Ô∏è‚É£ Rename the Image to `.qcow2`
```bash
mv noble-server-cloudimg-amd64.img ubuntu-24.04.qcow2
```

### 3Ô∏è‚É£ Upgrade the Image
```bash
virt-customize -a ubuntu-24.04.qcow2 --run-command 'apt-get update && apt-get -y dist-upgrade'
```
> ‚ö†Ô∏è If the command fails, install the required tools and try again:
```bash
apt install -y libguestfs-tools
```

### 4Ô∏è‚É£ Install Proxmox Agent, SSH and update the timezone
```bash
virt-customize -a ubuntu-24.04.qcow2 --install qemu-guest-agent
virt-customize -a ubuntu-24.04.qcow2 --install ssh
virt-customize -a ubuntu-24.04.qcow2 --timezone "Asia/Dubai"
```

### 5Ô∏è‚É£ Resize the Image
Resize the VM disk to the required size (example: **30G**):
```bash
qemu-img resize ubuntu-24.04.qcow2 30G
```

### 6Ô∏è‚É£ Create a VM for the Image
```bash
qm create 8000 --memory 2048 --core 2 --name ubuntu-cloud-24.04 --net0 virtio,bridge=vmbr0
```

### 7Ô∏è‚É£ Import the Disk
```bash
qm disk import 8000 ubuntu-24.04.qcow2 local-lvm
```

### 8Ô∏è‚É£ Attach the Disk to the VM
Attach as a **SCSI drive** on the **VirtIO SCSI controller**:
```bash
qm set 8000 --scsihw virtio-scsi-pci --scsi0 local-lvm:vm-8000-disk-0
```

### 9Ô∏è‚É£ Add Cloud-Init Drive
```bash
qm set 8000 --ide2 local-lvm:cloudinit
```

### üîü Configure Boot Order
Make the Cloud-Init drive bootable and restrict BIOS to boot from disk only:
```bash
qm set 8000 --boot c --bootdisk scsi0
```

### 11Ô∏è‚É£ Add Serial Console
```bash
qm set 8000 --serial0 socket --vga serial0
```

### 12Ô∏è‚É£ Create a Template
You can do this from the **Proxmox GUI** or via CLI:
```bash
qm template 8000
```

---

## üìö Reference
This process follows the guide from [TechnoTim - Cloud Init & Cloud Image](https://technotim.live/posts/cloud-init-cloud-image/).

---

**Author:** Ramakrishna Mogallapu  
**Project:** HomeOps ‚Äî Proxmox VE 9 Cloud Templates  
**Version:** Ubuntu 24.04 (noble-server)
**date:** 19th OCt 2025