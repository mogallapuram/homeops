# üß© Proxmox VE 9 Installation & Post-Setup (HomeOps Edition)

This document covers the complete workflow for setting up **Proxmox VE 9** on a new host, including ISO installation, post-installation configuration, and adding the free ‚Äúno-subscription‚Äù repository.

---

## 1Ô∏è‚É£ Download the Proxmox VE 9 ISO

**Official site:**  
üëâ https://www.proxmox.com/en/downloads

Choose:
> **Proxmox VE 9.x ISO Installer**

(Optional) verify checksum:
```bash
sha256sum proxmox-ve_9*.iso
```

---

## 2Ô∏è‚É£ Create Bootable USB (Windows ‚Äì Rufus)

1. Download **Rufus** ‚Üí https://rufus.ie  
2. Insert a USB stick (‚â• 8 GB)  
3. Select:
   - **Boot selection:** `proxmox-ve_9*.iso`  
   - **Partition scheme:** GPT  
   - **Target system:** UEFI  
   - When prompted, pick *DD Image* mode  
4. Click **Start** and wait until finished.

---

## 3Ô∏è‚É£ Install Proxmox VE 9

1. Boot the server from the USB drive.  
2. Select **Install Proxmox VE (Graphical)**.  
3. Accept the license.  
4. Choose the target disk (SSD/NVMe recommended).  
5. Configure:
   - **Location & Keyboard**
   - **Root password** + **Email**
6. Network configuration (example):
   ```
   Hostname: node1.cloud4ram.com
   IP Address: 10.10.10.200/23
   Gateway: 10.10.10.1
   DNS Server: 10.10.10.5     # Pi-hole IP
   ```
7. Click **Install** ‚Üí reboot.

Access after boot:
```
https://10.10.10.200:8006
```
Login:  
`root` / <your password> (Realm: PAM)

---

## 4Ô∏è‚É£ Post-Installation Configuration

SSH into the node:
```bash
ssh root@10.10.10.200
```

### Disable the enterprise repo & enable the free no-subscription repo
```bash
# Disable enterprise repo
sed -i 's|^deb https://enterprise.proxmox.com/debian/pve|# deb https://enterprise.proxmox.com/debian/pve|g' /etc/apt/sources.list.d/pve-enterprise.list

# Add no-subscription repo (for Debian Trixie / PVE 9)
cat > /etc/apt/sources.list.d/pve-no-subscription.list <<EOF
deb http://download.proxmox.com/debian/pve trixie pve-no-subscription
EOF

# Confirm Debian base repos
cat > /etc/apt/sources.list.d/debian-trixie.list <<EOF
deb http://deb.debian.org/debian trixie main contrib non-free-firmware
deb http://deb.debian.org/debian trixie-updates main contrib non-free-firmware
deb http://security.debian.org/debian-security trixie-security main contrib non-free-firmware
EOF
```

---

## 5Ô∏è‚É£ Update Packages & System

```bash
apt update
apt dist-upgrade -y
apt install -y  curl wget net-tools htop ifupdown2
apt autoremove -y && apt clean
```

Restart the web UI:
```bash
systemctl restart pveproxy
```

---

## 6Ô∏è‚É£ Optional ‚Äì Remove Subscription Popup (this is not working)

1. Edit this file:
   ```
   /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js
   ```
2. In the `checked_command:` section, add:
   ```javascript
   orig_cmd();
   return;
   ```
   right after `let res = response.result;`
3. Save, then run:
   ```bash
   systemctl restart pveproxy
   ```
4. Hard refresh browser (`Ctrl + Shift + R`).

---

## 7Ô∏è‚É£ Verify Setup

```bash
pveversion
pvecm status
systemctl status pvedaemon
```

Example output:
```
pve-manager/9.x-1 (Trixie)
```

Access web UI:
```
https://10.10.10.200:8006
```

---

## 8Ô∏è‚É£ Recommended Next Steps

- **Create templates** (Ubuntu / Debian) with Cloud-Init next step will be this 
- **Install QEMU Guest Agent** inside VMs:
  ```bash
  apt update && apt install -y qemu-guest-agent
  systemctl enable --now qemu-guest-agent
  ```
- **Backups:** integrate with Proxmox Backup Server or NFS  
- **Networking:** verify vmbr0 bridge is active and LED link is up  
- **Snapshots:** test LVM-Thin snapshots before production

---

## üß† Summary

| Step | Description |
|------|--------------|
| 1 | Download ISO |
| 2 | Create bootable USB |
| 3 | Install Proxmox VE 9 |
| 4 | Configure repos |
| 5 | Update packages |
| 6 | Remove subscription popup |
| 7 | Verify system |
| 8 | Create templates / backups |

---

**Author:** Ramakrishna Mogallapu  
**Project:** HomeOps ‚Äî Building a Fully Automated K3s Homelab  
**Version:** Proxmox VE 9 (Trixie)
**date:** 19th oct 2025
